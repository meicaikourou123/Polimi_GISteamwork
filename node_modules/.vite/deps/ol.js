import {
  TileCache_default,
  VectorRenderTile_default,
  VectorTile_default
} from "./chunk-ZHBDAFL6.js";
import {
  Kinetic_default,
  MapBrowserEventHandler_default,
  MapBrowserEvent_default,
  MapEvent_default,
  Map_default,
  Overlay_default
} from "./chunk-P7PA6XGS.js";
import {
  TileQueue_default
} from "./chunk-T3BCWNGW.js";
import "./chunk-E3GYGNNG.js";
import {
  Graticule_default
} from "./chunk-5JDXSY6B.js";
import {
  ImageCanvas_default
} from "./chunk-DGCWG6I3.js";
import "./chunk-5PYHSBZH.js";
import {
  ImageTile_default,
  TileRange_default,
  Tile_default
} from "./chunk-ZKGSZHDE.js";
import "./chunk-F5472VLO.js";
import "./chunk-IGM3MO4V.js";
import {
  Collection_default,
  init_Collection
} from "./chunk-6Z55B2U6.js";
import {
  Feature_default
} from "./chunk-VDD3TE4G.js";
import "./chunk-P3JLZ3N6.js";
import "./chunk-CA6AZ6OG.js";
import "./chunk-HM3IY3H4.js";
import "./chunk-GLF5GJI2.js";
import {
  View_default
} from "./chunk-YNQ2BPBI.js";
import "./chunk-QDIBJTFQ.js";
import "./chunk-OIUIQEKQ.js";
import "./chunk-2JM67KBQ.js";
import {
  Image_default
} from "./chunk-DTI5TVTS.js";
import "./chunk-5TDNKDLD.js";
import "./chunk-UPEBQK6Q.js";
import "./chunk-5JVGRBF3.js";
import {
  circular
} from "./chunk-DZUX6G6L.js";
import "./chunk-N5DOBTRT.js";
import "./chunk-4VUZO27F.js";
import "./chunk-YW5I2TRP.js";
import {
  Disposable_default,
  Event_default,
  Object_default,
  Observable_default,
  VERSION,
  getUid,
  init_Disposable,
  init_Event,
  init_Object,
  init_Observable,
  init_util
} from "./chunk-PUPPPCLM.js";
import {
  get,
  getTransformFromProjections,
  identityTransform
} from "./chunk-7TROSEAC.js";
import "./chunk-HWY3RNST.js";
import "./chunk-CU22RGMH.js";
import "./chunk-PXXJP6LN.js";
import {
  init_math,
  toRadians
} from "./chunk-RFIJ2M5A.js";
import "./chunk-J43GMYXM.js";

// node_modules/ol/index.js
init_Collection();
init_Disposable();

// node_modules/ol/Geolocation.js
init_Event();
init_Object();
init_math();
var Property = {
  ACCURACY: "accuracy",
  ACCURACY_GEOMETRY: "accuracyGeometry",
  ALTITUDE: "altitude",
  ALTITUDE_ACCURACY: "altitudeAccuracy",
  HEADING: "heading",
  POSITION: "position",
  PROJECTION: "projection",
  SPEED: "speed",
  TRACKING: "tracking",
  TRACKING_OPTIONS: "trackingOptions"
};
var GeolocationErrorType = {
  ERROR: "error"
};
var GeolocationError = class extends Event_default {
  constructor(error) {
    super(GeolocationErrorType.ERROR);
    this.code = error.code;
    this.message = error.message;
  }
};
var Geolocation = class extends Object_default {
  constructor(options) {
    super();
    this.on;
    this.once;
    this.un;
    options = options || {};
    this.position_ = null;
    this.transform_ = identityTransform;
    this.watchId_ = void 0;
    this.addChangeListener(Property.PROJECTION, this.handleProjectionChanged_);
    this.addChangeListener(Property.TRACKING, this.handleTrackingChanged_);
    if (options.projection !== void 0) {
      this.setProjection(options.projection);
    }
    if (options.trackingOptions !== void 0) {
      this.setTrackingOptions(options.trackingOptions);
    }
    this.setTracking(options.tracking !== void 0 ? options.tracking : false);
  }
  disposeInternal() {
    this.setTracking(false);
    super.disposeInternal();
  }
  handleProjectionChanged_() {
    const projection = this.getProjection();
    if (projection) {
      this.transform_ = getTransformFromProjections(
        get("EPSG:4326"),
        projection
      );
      if (this.position_) {
        this.set(Property.POSITION, this.transform_(this.position_));
      }
    }
  }
  handleTrackingChanged_() {
    if ("geolocation" in navigator) {
      const tracking = this.getTracking();
      if (tracking && this.watchId_ === void 0) {
        this.watchId_ = navigator.geolocation.watchPosition(
          this.positionChange_.bind(this),
          this.positionError_.bind(this),
          this.getTrackingOptions()
        );
      } else if (!tracking && this.watchId_ !== void 0) {
        navigator.geolocation.clearWatch(this.watchId_);
        this.watchId_ = void 0;
      }
    }
  }
  positionChange_(position) {
    const coords = position.coords;
    this.set(Property.ACCURACY, coords.accuracy);
    this.set(
      Property.ALTITUDE,
      coords.altitude === null ? void 0 : coords.altitude
    );
    this.set(
      Property.ALTITUDE_ACCURACY,
      coords.altitudeAccuracy === null ? void 0 : coords.altitudeAccuracy
    );
    this.set(
      Property.HEADING,
      coords.heading === null ? void 0 : toRadians(coords.heading)
    );
    if (!this.position_) {
      this.position_ = [coords.longitude, coords.latitude];
    } else {
      this.position_[0] = coords.longitude;
      this.position_[1] = coords.latitude;
    }
    const projectedPosition = this.transform_(this.position_);
    this.set(Property.POSITION, projectedPosition.slice());
    this.set(Property.SPEED, coords.speed === null ? void 0 : coords.speed);
    const geometry = circular(this.position_, coords.accuracy);
    geometry.applyTransform(this.transform_);
    this.set(Property.ACCURACY_GEOMETRY, geometry);
    this.changed();
  }
  positionError_(error) {
    this.dispatchEvent(new GeolocationError(error));
  }
  getAccuracy() {
    return this.get(Property.ACCURACY);
  }
  getAccuracyGeometry() {
    return this.get(Property.ACCURACY_GEOMETRY) || null;
  }
  getAltitude() {
    return this.get(Property.ALTITUDE);
  }
  getAltitudeAccuracy() {
    return this.get(Property.ALTITUDE_ACCURACY);
  }
  getHeading() {
    return this.get(Property.HEADING);
  }
  getPosition() {
    return this.get(Property.POSITION);
  }
  getProjection() {
    return this.get(Property.PROJECTION);
  }
  getSpeed() {
    return this.get(Property.SPEED);
  }
  getTracking() {
    return this.get(Property.TRACKING);
  }
  getTrackingOptions() {
    return this.get(Property.TRACKING_OPTIONS);
  }
  setProjection(projection) {
    this.set(Property.PROJECTION, get(projection));
  }
  setTracking(tracking) {
    this.set(Property.TRACKING, tracking);
  }
  setTrackingOptions(options) {
    this.set(Property.TRACKING_OPTIONS, options);
  }
};
var Geolocation_default = Geolocation;

// node_modules/ol/index.js
init_Object();
init_Observable();
init_util();
export {
  Collection_default as Collection,
  Disposable_default as Disposable,
  Feature_default as Feature,
  Geolocation_default as Geolocation,
  Graticule_default as Graticule,
  Image_default as Image,
  ImageCanvas_default as ImageCanvas,
  ImageTile_default as ImageTile,
  Image_default as ImageWrapper,
  Kinetic_default as Kinetic,
  Map_default as Map,
  MapBrowserEvent_default as MapBrowserEvent,
  MapBrowserEventHandler_default as MapBrowserEventHandler,
  MapEvent_default as MapEvent,
  Object_default as Object,
  Observable_default as Observable,
  Overlay_default as Overlay,
  Tile_default as Tile,
  TileCache_default as TileCache,
  TileQueue_default as TileQueue,
  TileRange_default as TileRange,
  VERSION,
  VectorRenderTile_default as VectorRenderTile,
  VectorTile_default as VectorTile,
  View_default as View,
  getUid
};
//# sourceMappingURL=ol.js.map
